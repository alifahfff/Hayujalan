{
  "version": 3,
  "sources": ["../../react-csv/src/components/Download.js", "../../react-csv/src/core.js", "../../react-csv/src/metaProps.js", "../../react-csv/src/components/Link.jsx", "../../react-csv/src/index.js"],
  "sourcesContent": ["import React from 'react';\r\nimport {buildURI} from '../core';\r\nimport {\r\n   defaultProps as commonDefaultProps,\r\n   propTypes as commonPropTypes} from '../metaProps';\r\nconst defaultProps = {\r\n  target: '_blank'\r\n};\r\n\r\n/**\r\n *\r\n * @example ../../sample-site/csvdownload.example.md\r\n */\r\nclass CSVDownload extends React.Component {\r\n\r\n  static defaultProps = Object.assign(\r\n    commonDefaultProps,\r\n    defaultProps\r\n  );\r\n\r\n  static propTypes = commonPropTypes;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state={};\r\n  }\r\n\r\n  buildURI() {\r\n    return buildURI(...arguments);\r\n  }\r\n\r\n  componentDidMount(){\r\n    const {data, headers, separator, enclosingCharacter, uFEFF, target, specs, replace} = this.props;\r\n    this.state.page = window.open(\r\n        this.buildURI(data, uFEFF, headers, separator, enclosingCharacter), target, specs, replace\r\n    );\r\n  }\r\n\r\n  getWindow() {\r\n    return this.state.page;\r\n  }\r\n\r\n  render(){\r\n    return (null)\r\n  }\r\n}\r\n\r\nexport default CSVDownload;\r\n", "/**\r\n * Simple safari detection based on user agent test\r\n */\r\nexport const isSafari = () => /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\r\n\r\nexport const isJsons = ((array) => Array.isArray(array) && array.every(\r\n  row => (typeof row === 'object' && !(row instanceof Array))\r\n));\r\n\r\nexport const isArrays = ((array) => Array.isArray(array) && array.every(\r\n  row => Array.isArray(row)\r\n));\r\n\r\nexport const jsonsHeaders = ((array) => Array.from(\r\n  array.map(json => Object.keys(json))\r\n    .reduce((a, b) => new Set([...a, ...b]), [])\r\n));\r\n\r\nexport const jsons2arrays = (jsons, headers) => {\r\n  headers = headers || jsonsHeaders(jsons);\r\n\r\n  // allow headers to have custom labels, defaulting to having the header data key be the label\r\n  let headerLabels = headers;\r\n  let headerKeys = headers;\r\n  if (isJsons(headers)) {\r\n    headerLabels = headers.map((header) => header.label);\r\n    headerKeys = headers.map((header) => header.key);\r\n  }\r\n\r\n  const data = jsons.map((object) => headerKeys.map((header) => getHeaderValue(header, object)));\r\n  return [headerLabels, ...data];\r\n};\r\n\r\nexport const getHeaderValue = (property, obj) => {\r\n  const foundValue = property\r\n    .replace(/\\[([^\\]]+)]/g, \".$1\")\r\n    .split(\".\")\r\n    .reduce(function (o, p, i, arr) {\r\n      // if at any point the nested keys passed do not exist, splice the array so it doesnt keep reducing\r\n      const value = o[p];\r\n      if (value === undefined || value === null) {\r\n        arr.splice(1);\r\n      } else {\r\n        return value;\r\n      }\r\n    }, obj);\r\n  // if at any point the nested keys passed do not exist then looks for key `property` in object obj\r\n  return (foundValue === undefined) ? ((property in obj) ? obj[property] : '') : foundValue;\r\n}\r\n\r\nexport const elementOrEmpty = (element) =>\r\n  (typeof element === 'undefined' || element === null) ? '' : element;\r\n\r\nexport const joiner = ((data, separator = ',', enclosingCharacter = '\"') => {\r\n  return data\r\n    .filter(e => e)\r\n    .map(\r\n      row => row\r\n        .map((element) => elementOrEmpty(element))\r\n        .map(column => `${enclosingCharacter}${column}${enclosingCharacter}`)\r\n        .join(separator)\r\n    )\r\n    .join(`\\n`);\r\n});\r\n\r\nexport const arrays2csv = ((data, headers, separator, enclosingCharacter) =>\r\n  joiner(headers ? [headers, ...data] : data, separator, enclosingCharacter)\r\n);\r\n\r\nexport const jsons2csv = ((data, headers, separator, enclosingCharacter) =>\r\n  joiner(jsons2arrays(data, headers), separator, enclosingCharacter)\r\n);\r\n\r\nexport const string2csv = ((data, headers, separator, enclosingCharacter) =>\r\n  (headers) ? `${headers.join(separator)}\\n${data}` : data.replace(/\"/g, '\"\"')\r\n);\r\n\r\nexport const toCSV = (data, headers, separator, enclosingCharacter) => {\r\n  if (isJsons(data)) return jsons2csv(data, headers, separator, enclosingCharacter);\r\n  if (isArrays(data)) return arrays2csv(data, headers, separator, enclosingCharacter);\r\n  if (typeof data === 'string') return string2csv(data, headers, separator);\r\n  throw new TypeError(`Data should be a \"String\", \"Array of arrays\" OR \"Array of objects\" `);\r\n};\r\n\r\nexport const buildURI = ((data, uFEFF, headers, separator, enclosingCharacter) => {\r\n  const csv = toCSV(data, headers, separator, enclosingCharacter);\r\n  const type = isSafari() ? 'application/csv' : 'text/csv';\r\n  const blob = new Blob([uFEFF ? '\\uFEFF' : '', csv], { type });\r\n  const dataURI = `data:${type};charset=utf-8,${uFEFF ? '\\uFEFF' : ''}${csv}`;\r\n\r\n  const URL = window.URL || window.webkitURL;\r\n\r\n  return (typeof URL.createObjectURL === 'undefined')\r\n    ? dataURI\r\n    : URL.createObjectURL(blob);\r\n});\r\n", "import React from 'react';\r\nimport { string, array, oneOfType, bool, func } from 'prop-types';\r\n\r\n\r\nexport const propTypes = {\r\n  data: oneOfType([string, array, func]).isRequired,\r\n  headers: array,\r\n  target: string,\r\n  separator: string,\r\n  filename: string,\r\n  uFEFF: bool,\r\n  onClick: func,\r\n  asyncOnClick: bool,\r\n  enclosingCharacter: string\r\n};\r\n\r\nexport const defaultProps = {\r\n  separator: ',',\r\n  filename: 'generatedBy_react-csv.csv',\r\n  uFEFF: true,\r\n  asyncOnClick: false,\r\n  enclosingCharacter: '\"'\r\n};\r\n\r\nexport const PropsNotForwarded = [\r\n  `data`,\r\n  `headers`\r\n];\r\n", "import React from 'react';\r\nimport { buildURI, toCSV } from '../core';\r\nimport {\r\n  defaultProps as commonDefaultProps,\r\n  propTypes as commonPropTypes\r\n} from '../metaProps';\r\n\r\n/**\r\n *\r\n * @example ../../sample-site/csvlink.example.md\r\n */\r\nclass CSVLink extends React.Component {\r\n  static defaultProps = commonDefaultProps;\r\n  static propTypes = commonPropTypes;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.buildURI = this.buildURI.bind(this);\r\n  }\r\n\r\n  buildURI() {\r\n    return buildURI(...arguments);\r\n  }\r\n\r\n  /**\r\n   * In IE11 this method will trigger the file download\r\n   */\r\n  handleLegacy(event, isAsync = false) {\r\n    // If this browser is IE 11, it does not support the `download` attribute\r\n    if (window.navigator.msSaveOrOpenBlob) {\r\n      // Stop the click propagation\r\n      event.preventDefault();\r\n\r\n      const {\r\n        data,\r\n        headers,\r\n        separator,\r\n        filename,\r\n        enclosingCharacter,\r\n        uFEFF\r\n      } = this.props;\r\n\r\n      const csvData = isAsync && typeof data === 'function' ? data() : data;\r\n\r\n      let blob = new Blob([uFEFF ? '\\uFEFF' : '', toCSV(csvData, headers, separator, enclosingCharacter)]);\r\n      window.navigator.msSaveBlob(blob, filename);\r\n\r\n      return false;\r\n    }\r\n  }\r\n\r\n  handleAsyncClick(event) {\r\n    const done = proceed => {\r\n      if (proceed === false) {\r\n        event.preventDefault();\r\n        return;\r\n      }\r\n      this.handleLegacy(event, true);\r\n    };\r\n\r\n    this.props.onClick(event, done);\r\n  }\r\n\r\n  handleSyncClick(event) {\r\n    const stopEvent = this.props.onClick(event) === false;\r\n    if (stopEvent) {\r\n      event.preventDefault();\r\n      return;\r\n    }\r\n    this.handleLegacy(event);\r\n  }\r\n\r\n  handleClick() {\r\n    return event => {\r\n      if (typeof this.props.onClick === 'function') {\r\n        return this.props.asyncOnClick\r\n          ? this.handleAsyncClick(event)\r\n          : this.handleSyncClick(event);\r\n      }\r\n      this.handleLegacy(event);\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      data,\r\n      headers,\r\n      separator,\r\n      filename,\r\n      uFEFF,\r\n      children,\r\n      onClick,\r\n      asyncOnClick,\r\n      enclosingCharacter,\r\n      ...rest\r\n    } = this.props;\r\n\r\n    const isNodeEnvironment = typeof window === 'undefined';\r\n    const href = isNodeEnvironment ? '' : this.buildURI(data, uFEFF, headers, separator, enclosingCharacter)\r\n\r\n    return (\r\n      <a\r\n        download={filename}\r\n        {...rest}\r\n        ref={link => (this.link = link)}\r\n        target=\"_self\"\r\n        href={href}\r\n        onClick={this.handleClick()}\r\n      >\r\n        {children}\r\n      </a>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CSVLink;\r\n", "import Download from './components/Download';\r\nimport Link from './components/Link';\r\n\r\nexport const CSVDownload = Download;\r\nexport const CSVLink = Link;\r\n"],
  "mappings": "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",
  "names": []
}
